{
  "actions": {
    "CreateSegmentationTask": {
      "document": "本接口为人像分割在线处理接口组中的提交任务接口，可以对提交的资源进行处理视频流/图片流识别视频作品中的人像区域，进行一键抠像、背景替换、人像虚化等后期处理。",
      "input": "CreateSegmentationTaskRequest",
      "name": "创建视频人像分割处理任务",
      "output": "CreateSegmentationTaskResponse",
      "status": "online"
    },
    "DescribeSegmentationTask": {
      "document": "可以查看单条任务的处理情况，包括处理状态，处理结果。",
      "input": "DescribeSegmentationTaskRequest",
      "name": "查看视频人像分割处理任务信息",
      "output": "DescribeSegmentationTaskResponse",
      "status": "online"
    },
    "SegmentCustomizedPortraitPic": {
      "document": "在前后景分割的基础上优化多分类分割，支持对头发、五官等的分割，既作为换发型、挂件等底层技术，也可用于抠人头、抠人脸等玩法",
      "input": "SegmentCustomizedPortraitPicRequest",
      "name": "自定义人像分割",
      "output": "SegmentCustomizedPortraitPicResponse",
      "status": "online"
    },
    "SegmentPortraitPic": {
      "document": "即二分类人像分割，识别传入图片中人体的完整轮廓，进行抠像。",
      "input": "SegmentPortraitPicRequest",
      "name": "人像分割",
      "output": "SegmentPortraitPicResponse",
      "status": "online"
    },
    "TerminateSegmentationTask": {
      "document": "终止指定视频人像分割处理任务",
      "input": "TerminateSegmentationTaskRequest",
      "name": "终止视频人像分割处理任务",
      "output": "TerminateSegmentationTaskResponse",
      "status": "online"
    }
  },
  "metadata": {
    "apiVersion": "2020-03-24",
    "api_brief": "介绍如何使用API对人体分析进行操作，包括人体库管理、人体搜索、人体检测等。",
    "serviceNameCN": "人体分析",
    "serviceShortName": "bda"
  },
  "objects": {
    "CreateSegmentationTaskRequest": {
      "document": "CreateSegmentationTask请求参数结构体",
      "members": [
        {
          "disabled": false,
          "document": "需要分割的视频URL，可外网访问。",
          "example": "https://liudehua-9527.cos.ap-guangzhou.myqcloud.com/input.mp4",
          "member": "string",
          "name": "VideoUrl",
          "required": true,
          "type": "string"
        },
        {
          "disabled": false,
          "document": "背景图片URL。 \n可以将视频背景替换为输入的图片。 \n如果不输入背景图片，则输出人像区域mask。",
          "example": "https://liudehua-9527.cos.ap-guangzhou.myqcloud.com/input.jpeg",
          "member": "string",
          "name": "BackgroundImageUrl",
          "required": false,
          "type": "string"
        },
        {
          "disabled": false,
          "document": "预留字段，后期用于展示更多识别信息。",
          "example": "{\"X-TEST\": \"test\"}",
          "member": "string",
          "name": "Config",
          "required": false,
          "type": "string"
        }
      ],
      "type": "object"
    },
    "CreateSegmentationTaskResponse": {
      "document": "CreateSegmentationTask返回参数结构体",
      "members": [
        {
          "disabled": false,
          "document": "任务标识ID,可以用与追溯任务状态，查看任务结果",
          "example": "1243358054699911111",
          "member": "string",
          "name": "TaskID",
          "output_required": true,
          "type": "string",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "预估处理时间，单位为秒",
          "example": "30",
          "member": "float",
          "name": "EstimatedProcessingTime",
          "output_required": true,
          "type": "float",
          "value_allowed_null": false
        },
        {
          "document": "唯一请求 ID，由服务端生成，每次请求都会返回（若请求因其他原因未能抵达服务端，则该次请求不会获得 RequestId）。定位问题时需要提供该次请求的 RequestId。",
          "member": "string",
          "name": "RequestId",
          "type": "string"
        }
      ],
      "type": "object"
    },
    "DescribeSegmentationTaskRequest": {
      "document": "DescribeSegmentationTask请求参数结构体",
      "members": [
        {
          "disabled": false,
          "document": "在提交分割任务成功时返回的任务标识ID。",
          "example": "12433580546999111111",
          "member": "string",
          "name": "TaskID",
          "required": true,
          "type": "string"
        }
      ],
      "type": "object"
    },
    "DescribeSegmentationTaskResponse": {
      "document": "DescribeSegmentationTask返回参数结构体",
      "members": [
        {
          "disabled": false,
          "document": "当前任务状态：\nQUEUING 排队中\nPROCESSING 处理中\nFINISHED 处理完成",
          "example": "PROCESSING",
          "member": "string",
          "name": "TaskStatus",
          "output_required": true,
          "type": "string",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割后视频URL, 存储于腾讯云COS\n注意：此字段可能返回 null，表示取不到有效值。",
          "example": "https://liudehua-9527.cos.ap-guangzhou.myqcloud.com/result.mp4?q-sign-algorithm=sha1&q-ak=AKID********EXAMPLE&q-sign-time=8888;9999&q-key-time=8888;9999&q-header-list=&q-url-param-list=&q-signature=7de87f7bf9cfd23df9da32f46661e7cf97a5603c",
          "member": "string",
          "name": "ResultVideoUrl",
          "output_required": true,
          "type": "string",
          "value_allowed_null": true
        },
        {
          "disabled": false,
          "document": "分割后视频MD5，用于校验\n注意：此字段可能返回 null，表示取不到有效值。",
          "example": "4972F083D7F05E9474FDFA52AA616DEE",
          "member": "string",
          "name": "ResultVideoMD5",
          "output_required": true,
          "type": "string",
          "value_allowed_null": true
        },
        {
          "disabled": false,
          "document": "视频基本信息\n注意：此字段可能返回 null，表示取不到有效值。",
          "example": "{\"FrameWidth\":720,\"FrameHeight\":1280,\"FramesPerSecond\":29,\"Duration\":0,\"TotalFrames\":439}",
          "member": "VideoBasicInformation",
          "name": "VideoBasicInformation",
          "output_required": true,
          "type": "object",
          "value_allowed_null": true
        },
        {
          "disabled": false,
          "document": "分割任务错误信息\n注意：此字段可能返回 null，表示取不到有效值。",
          "example": "video error",
          "member": "string",
          "name": "ErrorMsg",
          "output_required": true,
          "type": "string",
          "value_allowed_null": true
        },
        {
          "document": "唯一请求 ID，由服务端生成，每次请求都会返回（若请求因其他原因未能抵达服务端，则该次请求不会获得 RequestId）。定位问题时需要提供该次请求的 RequestId。",
          "member": "string",
          "name": "RequestId",
          "type": "string"
        }
      ],
      "type": "object"
    },
    "ImageRect": {
      "document": "图像坐标信息。",
      "members": [
        {
          "disabled": false,
          "document": "左上角横坐标。",
          "example": "",
          "member": "int64",
          "name": "X",
          "required": true,
          "type": "int",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "左上角纵坐标。",
          "example": "",
          "member": "int64",
          "name": "Y",
          "required": true,
          "type": "int",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "人体宽度。",
          "example": "",
          "member": "int64",
          "name": "Width",
          "required": true,
          "type": "int",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "人体高度。",
          "example": "",
          "member": "int64",
          "name": "Height",
          "required": true,
          "type": "int",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项名称。",
          "example": "",
          "member": "string",
          "name": "Label",
          "required": true,
          "type": "string",
          "value_allowed_null": false
        }
      ],
      "usage": "out"
    },
    "SegmentCustomizedPortraitPicRequest": {
      "document": "SegmentCustomizedPortraitPic请求参数结构体",
      "members": [
        {
          "disabled": false,
          "document": "此参数为分割选项，请根据需要选择自己所想从图片中分割的部分。注意所有选项均为非必选，如未选择则值默认为false, 但是必须要保证多于一个选项的描述为true。",
          "example": "{\"Background\": false}",
          "member": "SegmentationOptions",
          "name": "SegmentationOptions",
          "required": true,
          "type": "object"
        },
        {
          "disabled": false,
          "document": "图片 base64 数据，base64 编码后大小不可超过5M。\n图片分辨率须小于2000*2000。 \n支持PNG、JPG、JPEG、BMP，不支持 GIF 图片。",
          "example": "/9j/4AAQSkZJRgABAQAAAQABAAD/4gIo...lftXF/DjFZNXoSP5V2U0HMt/1FQf/Z",
          "member": "string",
          "name": "Image",
          "required": false,
          "type": "string"
        },
        {
          "disabled": false,
          "document": "图片的 Url 。\nUrl、Image必须提供一个，如果都提供，只使用 Url。\n图片分辨率须小于2000*2000 ，图片 base64 编码后大小不可超过5M。 \n图片存储于腾讯云的Url可保障更高下载速度和稳定性，建议图片存储于腾讯云。  \n非腾讯云存储的Url速度和稳定性可能受一定影响。 \n支持PNG、JPG、JPEG、BMP，不支持 GIF 图片。",
          "example": "https://liudehua-9527.cos.ap-guangzhou.myqcloud.com/input.jpeg",
          "member": "string",
          "name": "Url",
          "required": false,
          "type": "string"
        }
      ],
      "type": "object"
    },
    "SegmentCustomizedPortraitPicResponse": {
      "document": "SegmentCustomizedPortraitPic返回参数结构体",
      "members": [
        {
          "disabled": false,
          "document": "根据指定标签分割输出的透明背景人像图片的 base64 数据。",
          "example": "/9j/4AAQSkZJRgABAQAAAQABAAD/4gIo...lftXF/DjFZNXoSP5V2U0HMt/1FQf/Z",
          "member": "string",
          "name": "PortraitImage",
          "output_required": true,
          "type": "string",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "指定标签处理后的Mask。一个通过 Base64 编码的文件，解码后文件由 Float 型浮点数组成。这些浮点数代表原图从左上角开始的每一行的每一个像素点，每一个浮点数的值是原图相应像素点位于人体轮廓内的置信度（0-1）转化的灰度值（0-255）",
          "example": "/9j/4AAQSkZJRgABAQAAAQABAAD/4gIo...lftXF/DjFZNXoSP5V2U0HMt/1FQf/Z",
          "member": "string",
          "name": "MaskImage",
          "output_required": true,
          "type": "string",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "坐标信息。\n注意：此字段可能返回 null，表示取不到有效值。",
          "example": "[{\"Y\":1,\"X\":2,\"Height\":3,\"Width\":4,\"Label\":\"Head\"}]",
          "member": "ImageRect",
          "name": "ImageRects",
          "output_required": true,
          "type": "list",
          "value_allowed_null": true
        },
        {
          "document": "唯一请求 ID，由服务端生成，每次请求都会返回（若请求因其他原因未能抵达服务端，则该次请求不会获得 RequestId）。定位问题时需要提供该次请求的 RequestId。",
          "member": "string",
          "name": "RequestId",
          "type": "string"
        }
      ],
      "type": "object"
    },
    "SegmentPortraitPicRequest": {
      "document": "SegmentPortraitPic请求参数结构体",
      "members": [
        {
          "disabled": false,
          "document": "图片 base64 数据，base64 编码后大小不可超过5M。\n图片分辨率须小于2000*2000。 \n支持PNG、JPG、JPEG、BMP，不支持 GIF 图片。",
          "example": "/9j/4AAQSkZJRgABAQAAAQABAAD/4gIo...lftXF/DjFZNXoSP5V2U0HMt/1FQf/Z",
          "member": "string",
          "name": "Image",
          "required": false,
          "type": "string"
        },
        {
          "disabled": false,
          "document": "图片的 Url 。\nUrl、Image必须提供一个，如果都提供，只使用 Url。\n图片分辨率须小于2000*2000 ，图片 base64 编码后大小不可超过5M。 \n图片存储于腾讯云的Url可保障更高下载速度和稳定性，建议图片存储于腾讯云。  \n非腾讯云存储的Url速度和稳定性可能受一定影响。 \n支持PNG、JPG、JPEG、BMP，不支持 GIF 图片。",
          "example": "https://liudehua-9527.cos.ap-guangzhou.myqcloud.com/input.jpeg",
          "member": "string",
          "name": "Url",
          "required": false,
          "type": "string"
        },
        {
          "disabled": false,
          "document": "返回图像方式（base64 或 Url ) ，二选一。url有效期为30分钟。",
          "example": "url",
          "member": "string",
          "name": "RspImgType",
          "required": false,
          "type": "string"
        },
        {
          "disabled": false,
          "document": "适用场景类型。\n\n取值：GEN/GS。GEN为通用场景模式；GS为绿幕场景模式，针对绿幕场景下的人像分割效果更好。\n两种模式选择一种传入，默认为GEN。",
          "example": "GEN",
          "member": "string",
          "name": "Scene",
          "required": false,
          "type": "string"
        }
      ],
      "type": "object"
    },
    "SegmentPortraitPicResponse": {
      "document": "SegmentPortraitPic返回参数结构体",
      "members": [
        {
          "disabled": false,
          "document": "处理后的图片 base64 数据，透明背景图。\n注意：此字段可能返回 null，表示取不到有效值。",
          "example": "/9j/4AAQSkZJRgABAQAAAQABAAD/4gIo...lftXF/DjFZNXoSP5V2U0HMt/1FQf/Z",
          "member": "string",
          "name": "ResultImage",
          "output_required": true,
          "type": "string",
          "value_allowed_null": true
        },
        {
          "disabled": false,
          "document": "一个通过 base64 编码的文件，解码后文件由 Float 型浮点数组成。这些浮点数代表原图从左上角开始的每一行的每一个像素点，每一个浮点数的值是原图相应像素点位于人体轮廓内的置信度（0-1）转化的灰度值（0-255）。\n注意：此字段可能返回 null，表示取不到有效值。",
          "example": "/9j/4AAQSkZJRgABAQAAAQABAAD/4gIo...lftXF/DjFZNXoSP5V2U0HMt/1FQf/Z",
          "member": "string",
          "name": "ResultMask",
          "output_required": true,
          "type": "string",
          "value_allowed_null": true
        },
        {
          "disabled": false,
          "document": "图片是否存在前景。\n注意：此字段可能返回 null，表示取不到有效值。",
          "example": "false",
          "member": "bool",
          "name": "HasForeground",
          "output_required": true,
          "type": "bool",
          "value_allowed_null": true
        },
        {
          "disabled": false,
          "document": "支持将处理过的图片 base64 数据，透明背景图以Url的形式返回值，Url有效期为30分钟。\n注意：此字段可能返回 null，表示取不到有效值。",
          "example": "https://liudehua-9527.cos.ap-guangzhou.myqcloud.com/result.mp4?q-sign-algorithm=sha1&q-ak=AKID********EXAMPLE&q-sign-time=8888;9999&q-key-time=8888;9999&q-header-list=&q-url-param-list=&q-signature=7de87f7bf9cfd23df9da32f46661e7cf97a5603c",
          "member": "string",
          "name": "ResultImageUrl",
          "output_required": true,
          "type": "string",
          "value_allowed_null": true
        },
        {
          "disabled": false,
          "document": "一个通过 base64 编码的文件，解码后文件由 Float 型浮点数组成。支持以Url形式的返回值；Url有效期为30分钟。\n注意：此字段可能返回 null，表示取不到有效值。",
          "example": "https://liudehua-9527.cos.ap-guangzhou.myqcloud.com/mask.mp4?q-sign-algorithm=sha1&q-ak=AKID********EXAMPLE&q-sign-time=8888;9999&q-key-time=8888;9999&q-header-list=&q-url-param-list=&q-signature=7de87f7bf9cfd23df9da32f46661e7cf97a5603c",
          "member": "string",
          "name": "ResultMaskUrl",
          "output_required": true,
          "type": "string",
          "value_allowed_null": true
        },
        {
          "document": "唯一请求 ID，由服务端生成，每次请求都会返回（若请求因其他原因未能抵达服务端，则该次请求不会获得 RequestId）。定位问题时需要提供该次请求的 RequestId。",
          "member": "string",
          "name": "RequestId",
          "type": "string"
        }
      ],
      "type": "object"
    },
    "SegmentationOptions": {
      "document": "此参数为分割选项，请根据需要选择自己所想从图片中分割的部分。注意所有选项均为非必选，如未选择则值默认为false, 但是必须要保证多于一个选项的描述为true。",
      "members": [
        {
          "disabled": false,
          "document": "分割选项-背景",
          "example": "",
          "member": "bool",
          "name": "Background",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-头发",
          "example": "",
          "member": "bool",
          "name": "Hair",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-左眉",
          "example": "",
          "member": "bool",
          "name": "LeftEyebrow",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-右眉",
          "example": "",
          "member": "bool",
          "name": "RightEyebrow",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-左眼",
          "example": "",
          "member": "bool",
          "name": "LeftEye",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-右眼",
          "example": "",
          "member": "bool",
          "name": "RightEye",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-鼻子",
          "example": "",
          "member": "bool",
          "name": "Nose",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-上唇",
          "example": "",
          "member": "bool",
          "name": "UpperLip",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-下唇",
          "example": "",
          "member": "bool",
          "name": "LowerLip",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-牙齿",
          "example": "",
          "member": "bool",
          "name": "Tooth",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-口腔（不包含牙齿）",
          "example": "",
          "member": "bool",
          "name": "Mouth",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-左耳",
          "example": "",
          "member": "bool",
          "name": "LeftEar",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-右耳",
          "example": "",
          "member": "bool",
          "name": "RightEar",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-面部(不包含眼、耳、口、鼻等五官及头发。)",
          "example": "",
          "member": "bool",
          "name": "Face",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "复合分割选项-头部(包含所有的头部元素，相关装饰除外)",
          "example": "",
          "member": "bool",
          "name": "Head",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-身体（包含脖子）",
          "example": "",
          "member": "bool",
          "name": "Body",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-帽子",
          "example": "",
          "member": "bool",
          "name": "Hat",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-头饰",
          "example": "",
          "member": "bool",
          "name": "Headdress",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-耳环",
          "example": "",
          "member": "bool",
          "name": "Earrings",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-项链",
          "example": "",
          "member": "bool",
          "name": "Necklace",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "分割选项-随身物品（ 例如伞、包、手机等。 ）",
          "example": "",
          "member": "bool",
          "name": "Belongings",
          "required": false,
          "type": "bool",
          "value_allowed_null": false
        }
      ],
      "usage": "in"
    },
    "TerminateSegmentationTaskRequest": {
      "document": "TerminateSegmentationTask请求参数结构体",
      "members": [
        {
          "disabled": false,
          "document": "在提交分割任务成功时返回的任务标识ID。",
          "example": "12433580546999111111",
          "member": "string",
          "name": "TaskID",
          "required": true,
          "type": "string"
        }
      ],
      "type": "object"
    },
    "TerminateSegmentationTaskResponse": {
      "document": "TerminateSegmentationTask返回参数结构体",
      "members": [
        {
          "document": "唯一请求 ID，由服务端生成，每次请求都会返回（若请求因其他原因未能抵达服务端，则该次请求不会获得 RequestId）。定位问题时需要提供该次请求的 RequestId。",
          "member": "string",
          "name": "RequestId",
          "type": "string"
        }
      ],
      "type": "object"
    },
    "VideoBasicInformation": {
      "document": "视频基础信息",
      "members": [
        {
          "disabled": false,
          "document": "视频宽度",
          "example": "",
          "member": "int64",
          "name": "FrameWidth",
          "required": true,
          "type": "int",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "视频高度",
          "example": "",
          "member": "int64",
          "name": "FrameHeight",
          "required": true,
          "type": "int",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "视频帧速率(FPS)",
          "example": "",
          "member": "int64",
          "name": "FramesPerSecond",
          "required": true,
          "type": "int",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "视频时长",
          "example": "",
          "member": "float",
          "name": "Duration",
          "required": true,
          "type": "float",
          "value_allowed_null": false
        },
        {
          "disabled": false,
          "document": "视频帧数",
          "example": "",
          "member": "int64",
          "name": "TotalFrames",
          "required": true,
          "type": "int",
          "value_allowed_null": false
        }
      ],
      "usage": "out"
    }
  },
  "version": "1.0"
}